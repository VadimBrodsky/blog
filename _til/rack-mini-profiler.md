---
layout: post
title: Rack Mini Profiler
date: 2021-04-27 06:43 -0400
tags: rails, tools
---
Use query parameters[^1] to control the mini profiler in a new Rails 6.1 application:

```
http://mysite.com?pp=disable
http://mysite.com?pp=enable
http://mysite.com?pp=help
```

Full list of query params:

```
Append the following to your query string:

  pp=help : display this screen
  pp=env : display the rack environment
  pp=skip : skip mini profiler for this request
  pp=no-backtrace : don't collect stack traces from all the SQL executed (sticky, use pp=normal-backtrace to enable)
  pp=normal-backtrace (*) : collect stack traces from all the SQL executed and filter normally
  pp=full-backtrace : enable full backtraces for SQL executed (use pp=normal-backtrace to disable)
  pp=disable : disable profiling for this session
  pp=enable : enable profiling for this session (if previously disabled)
  pp=profile-gc : perform gc profiling on this request, analyzes ObjectSpace generated by request (ruby 1.9.3 only)
  pp=profile-memory : requires the memory_profiler gem, new location based report
  pp=flamegraph : requires Ruby 2.2, a graph representing sampled activity (requires the stackprof gem).
  pp=flamegraph&flamegraph_sample_rate=1: creates a flamegraph with the specified sample rate (in ms). Overrides value set in config
  pp=flamegraph_embed : requires Ruby 2.2, a graph representing sampled activity (requires the stackprof gem), embedded resources for use on an intranet.
  pp=trace-exceptions : requires Ruby 2.0, will return all the spots where your application raises exceptions
  pp=analyze-memory : requires Ruby 2.0, will perform basic memory analysis of heap
```

[^1]: [Special query string - MiniProfiler/rack-mini-profiler - Github](https://github.com/MiniProfiler/rack-mini-profiler#special-query-strings)
